<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>会员登录_会员中心 - 回头鱼商城</title>
    <link rel="stylesheet" href="../css/login.css" />
    <link rel="stylesheet" href="../css/public.css" />
</head>
<body>
    <div id="header">
        <div class="margin">
        <a href="index.html" class="logo"></a>
        <span class="welcom">欢迎登录</span>
        <a href="#" title="关注腾讯微博" class="qq"></a>
        <a href="#" title="关注新浪微博" class="xinl"></a>
        <a href="#" title="关注微信公众号" class="wechat"></a>
        </div>
    </div>
    <div id="center">
        
            <div class="banner">
                <div class="margin">
                    <div class="login-form">
                        <div>
                            <div class="logintit">用户登录
                                <a class="registlink" href="register.html">立即注册 <i>></i></a>
                            </div>
                            <div class="form">
                                <div class="item item-name">
                                    <i class="icon"></i>
                                    <input type="text" id="username" name="username" class="text" tabindex="1" placeholder="手机号/用户名/邮箱"/>
                                </div>
                                <div class="item item-pass">
                                    <i class="icon"></i>
                                    <input type="password" id="password" name="password" class="text" tabindex="2" placeholder="密码"/>
                                </div>
                                <div class="safety" id="autoentry">
                                    <label for="remember" class="mar-b"><input type="checkbox" value="1" name="remember" id="remember" class="checkbox"/>请保存我这次的登录信息</label>
                                    <a class="forget_password fr" href="#">忘记密码？</a>
                                </div>
                                <div class="loginbtn">
                                    <input type="submit" id="loginsubmit" value="立即登录"/>
                                    <span id="span"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </div>
    <div id="footer" style="background: #fff;height: 100px;font-size:13px;padding: 40px 0 20px;text-align: center;">
        <div class="info">
            <p class="nav_bottom">
                <a href="#" target="_blank">网站简介</a><em>|</em>
                <a href="#" target="_blank">联系我们</a><em>|</em>
                <a href="#" target="_blank">招商合作</a><em>|</em>
                <a href="#" target="_blank">用户协议</a><em>|</em>
                <a href="#" target="_blank">隐私政策</a><em>|</em>
                <a href="#" target="_blank">投诉建议</a>
            </p>
            <p>Copyright 2012 - 2019 www.huitouyu.com. All rights reserved. 回头鱼商城版权所有</p>
        </div>
    </div>
</body>
<script src="../js/cookie.js"></script>
<script>
    class Login{
        constructor(){
            this.user = document.getElementById("username");
            this.pass = document.getElementById("password");
            // this.reg = document.getElementById("reg");
            this.log = document.getElementById("loginsubmit");
            this.span = document.getElementById("span");

            this.addEvent();
        }
        addEvent(){
            var that = this;
            this.log.onclick = function(){
                that.u = that.user.value;
                that.p = that.pass.value;

                that.getMsg();
            }
            // this.reg.onclick = function(){
            //     location.href = "register.html";
            // }
        }
        getMsg(){
            this.msg = getCookie("userMsg")?JSON.parse(getCookie("userMsg")):[];
            var type = 0;
            for(var i=0;i<this.msg.length;i++){
                if(this.msg[i].user == this.u && this.msg[i].pass == this.p){
                    location.href = "index.html";
                    this.msg[i].onoff = 1;
                    setCookie("userMsg",JSON.stringify(this.msg));
                    type=1;
                }else if(this.msg[i].user == this.u && this.msg[i].pass != this.p){
                    this.span.innerHTML = "密码错误";
                    type = 2;
                }
            }
            if(type == 0){
                this.span.innerHTML = "用户名不存在,请<a href='register.html'>去注册</a>";
            }
        }
    }
    new Login;

</script>
</html>